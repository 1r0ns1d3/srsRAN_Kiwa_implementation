#
# Copyright 2021-2024 Software Radio Systems Limited
#
# By using this file, you agree to the terms and conditions set
# forth in the LICENSE file which can be found at the top level of
# the distribution.
#

add_executable(pdcch_type0_css_occassions_test pdcch/pdcch_type0_css_occassions_test.cpp)
target_link_libraries(pdcch_type0_css_occassions_test srsran_sched srslog gtest gtest_main)
add_test(pdcch_type0_css_occassions_test pdcch_type0_css_occassions_test)

add_executable(pdsch_default_time_allocation_test pdsch/pdsch_default_time_allocation_test.cpp)
target_link_libraries(pdsch_default_time_allocation_test srsran_sched srslog gtest gtest_main)
add_test(pdsch_default_time_allocation_test pdsch_default_time_allocation_test)

add_executable(pdsch_dmrs_symbol_mask_test pdsch/pdsch_dmrs_symbol_mask_test.cpp)
target_link_libraries(pdsch_dmrs_symbol_mask_test srsran_sched srslog gtest gtest_main)
add_test(pdsch_dmrs_symbol_mask_test pdsch_dmrs_symbol_mask_test)

add_executable(pucch_default_resource_test pucch/pucch_default_resource_test.cpp)
target_link_libraries(pucch_default_resource_test srsran_sched srslog gtest gtest_main)
add_test(pucch_default_resource_test pucch_default_resource_test)

add_executable(pusch_default_time_allocation_test pusch/pusch_default_time_allocation_test.cpp)
target_link_libraries(pusch_default_time_allocation_test srsran_sched srslog gtest gtest_main)
add_test(pusch_default_time_allocation_test pusch_default_time_allocation_test)

add_executable(pusch_td_resource_indices_test pusch/pusch_td_resource_indices_test.cpp)
target_link_libraries(pusch_td_resource_indices_test srsran_sched sched_test_doubles srslog gtest gtest_main)
add_test(pusch_td_resource_indices_test pusch_td_resource_indices_test)

add_executable(pusch_dmrs_symbol_mask_test pusch/pusch_dmrs_symbol_mask_test.cpp)
target_link_libraries(pusch_dmrs_symbol_mask_test srsran_sched srslog gtest gtest_main)
add_test(pusch_dmrs_symbol_mask_test pusch_dmrs_symbol_mask_test)

add_executable(prbs_calculator_test prbs_calculator_test.cpp)
target_link_libraries(prbs_calculator_test srsran_sched srslog gtest gtest_main)
add_test(prbs_calculator_test prbs_calculator_test)

add_executable(dmrs_helpers_test dmrs_helpers_test.cpp)
target_link_libraries(dmrs_helpers_test srsran_sched srslog)
add_test(dmrs_helpers_test dmrs_helpers_test)

add_executable(mcs_calculator_test mcs_calculator_test.cpp)
target_link_libraries(mcs_calculator_test srsran_sched gtest gtest_main)
add_test(mcs_calculator_test.cpp mcs_calculator_test)

add_executable(mcs_tbs_calculator_test mcs_tbs_calculator_test.cpp)
target_link_libraries(mcs_tbs_calculator_test
        srsran_sched
        scheduler_test_suite
        mac_configuration_helpers
        srsran_du_manager
        gtest
        gtest_main)
add_test(mcs_tbs_calculator_test mcs_tbs_calculator_test)

add_executable(pdcch_aggregation_level_calculator_test pdcch_aggregation_level_calculator_test.cpp)
target_link_libraries(pdcch_aggregation_level_calculator_test srsran_sched gtest gtest_main)
add_test(pdcch_aggregation_level_calculator_test.cpp pdcch_aggregation_level_calculator_test)
